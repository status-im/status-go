-- transaction_input_data table stores data for each transaction generated by the wallet
CREATE TABLE IF NOT EXISTS transaction_input_data (
    chain_id UNSIGNED BIGINT NOT NULL,
    tx_hash BLOB NOT NULL,
    processor_name TEXT NOT NULL,
    from_asset TEXT,
    from_amount BLOB,
    to_asset TEXT,
    to_amount BLOB,
    side INTEGER,
    slippage_bps INTEGER,
    approval_amount BLOB,
    approval_spender BLOB
);

CREATE UNIQUE INDEX IF NOT EXISTS transaction_input_data_identify_entry ON transaction_input_data (chain_id, tx_hash);

-- ALTER TABLE transfers ADD COLUMN approval_amount BLOB;
-- ALTER TABLE transfers ADD COLUMN approval_spender BLOB;
